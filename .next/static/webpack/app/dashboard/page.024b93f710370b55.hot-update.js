"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/dashboard/page",{

/***/ "(app-pages-browser)/./lib/api.ts":
/*!********************!*\
  !*** ./lib/api.ts ***!
  \********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   api: function() { return /* binding */ api; }\n/* harmony export */ });\n/* harmony import */ var _dummy_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dummy-data */ \"(app-pages-browser)/./lib/dummy-data.ts\");\n/* harmony import */ var _dummy_serial_numbers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dummy-serial-numbers */ \"(app-pages-browser)/./lib/dummy-serial-numbers.ts\");\n\n\nconst API_URL = \"http://localhost:5000/api/v1\" || 0;\nconst USE_DUMMY_DATA = false;\n// Temporary: Use dummy data for serial numbers until backend is updated\nconst USE_DUMMY_SERIAL_DATA = false;\n// In-memory storage for dummy serial numbers\nlet localSerialNumbers = [\n    ..._dummy_serial_numbers__WEBPACK_IMPORTED_MODULE_1__.dummySerialNumbers\n];\nlet localProducts = [\n    ..._dummy_data__WEBPACK_IMPORTED_MODULE_0__.dummyProducts\n];\nlet nextId = 7;\nconst delay = (ms)=>new Promise((resolve)=>setTimeout(resolve, ms));\nconst api = {\n    async getProducts () {\n        let page = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 1, limit = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 10;\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n            throw new Error(\"Token was not provided!\");\n        }\n        if (USE_DUMMY_DATA) {\n            await delay(300);\n            const startIndex = (page - 1) * limit;\n            const paginatedProducts = localProducts.slice(startIndex, startIndex + limit);\n            return {\n                products: paginatedProducts,\n                totalPages: Math.ceil(localProducts.length / limit),\n                totalProducts: localProducts.length\n            };\n        }\n        const response = await fetch(\"\".concat(API_URL, \"/products?page=\").concat(page, \"&limit=\").concat(limit), {\n            method: \"GET\",\n            headers: {\n                token,\n                \"Cache-Control\": \"no-cache\"\n            }\n        });\n        if (!response.ok) {\n            throw new Error(\"Failed to fetch products\");\n        }\n        const data = await response.json();\n        return {\n            products: data.products,\n            totalPages: data.totalPages,\n            totalProducts: data.totalProducts\n        };\n    },\n    async getProduct (id) {\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n            throw new Error(\"Token was not provided!\");\n        }\n        if (USE_DUMMY_DATA) {\n            await delay(200);\n            const product = localProducts.find((p)=>p._id === id);\n            if (!product) {\n                throw new Error(\"Product not found\");\n            }\n            return {\n                ...product\n            };\n        }\n        const response = await fetch(\"\".concat(API_URL, \"/products/\").concat(id), {\n            method: \"GET\",\n            headers: {\n                token\n            }\n        });\n        if (!response.ok) {\n            throw new Error(\"Failed to fetch product\");\n        }\n        const data = await response.json();\n        return data.product || data;\n    },\n    // ✅ CREATE PRODUCT WITH FILES\n    async createProduct (input, files, thumbnailFile) {\n        var _input_specifications, _input_specifications1, _input_specifications2, _input_specifications3, _input_specifications_toneControl, _input_specifications4, _input_specifications_toneControl1, _input_specifications5, _input_specifications_toneControl2, _input_specifications6, _input_specifications7, _input_specifications8, _input_specifications9, _input_specifications10, _input_specifications11, _input_specifications12;\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n            throw new Error(\"Token was not provided!\");\n        }\n        const form = new FormData();\n        // --- Basic text fields (coerce undefined -> \"\") ---\n        form.append(\"name\", input.name);\n        form.append(\"slug\", input.slug);\n        var _input_family;\n        form.append(\"family\", (_input_family = input.family) !== null && _input_family !== void 0 ? _input_family : \"\");\n        var _input_category;\n        form.append(\"category\", (_input_category = input.category) !== null && _input_category !== void 0 ? _input_category : \"\");\n        var _input_technology;\n        form.append(\"technology\", (_input_technology = input.technology) !== null && _input_technology !== void 0 ? _input_technology : \"\");\n        var _input_overview;\n        form.append(\"overview\", (_input_overview = input.overview) !== null && _input_overview !== void 0 ? _input_overview : \"\");\n        var _input_warranty;\n        form.append(\"warranty\", (_input_warranty = input.warranty) !== null && _input_warranty !== void 0 ? _input_warranty : \"\");\n        form.append(\"isTopSellingProduct\", input.isTopSellingProduct ? \"true\" : \"false\");\n        // --- Array fields (Multer/Express will treat multiple same-name fields as array) ---\n        (input.keyHighlights || []).forEach((v)=>form.append(\"keyHighlights[]\", v));\n        (input.features || []).forEach((v)=>form.append(\"features[]\", v));\n        (input.applications || []).forEach((v)=>form.append(\"applications[]\", v));\n        (input.idealFor || []).forEach((v)=>form.append(\"idealFor[]\", v));\n        (input.tags || []).forEach((v)=>form.append(\"tags[]\", v));\n        // --- Specifications as nested fields (Express will parse as object) ---\n        if ((_input_specifications = input.specifications) === null || _input_specifications === void 0 ? void 0 : _input_specifications.powerOutput) form.append(\"specifications[powerOutput]\", input.specifications.powerOutput);\n        if ((_input_specifications1 = input.specifications) === null || _input_specifications1 === void 0 ? void 0 : _input_specifications1.channels) form.append(\"specifications[channels]\", input.specifications.channels);\n        if ((_input_specifications2 = input.specifications) === null || _input_specifications2 === void 0 ? void 0 : _input_specifications2.inputChannels) form.append(\"specifications[inputChannels]\", input.specifications.inputChannels);\n        if ((_input_specifications3 = input.specifications) === null || _input_specifications3 === void 0 ? void 0 : _input_specifications3.digitalPlayer) form.append(\"specifications[digitalPlayer]\", input.specifications.digitalPlayer);\n        if ((_input_specifications4 = input.specifications) === null || _input_specifications4 === void 0 ? void 0 : (_input_specifications_toneControl = _input_specifications4.toneControl) === null || _input_specifications_toneControl === void 0 ? void 0 : _input_specifications_toneControl.bass) form.append(\"specifications[toneControl][bass]\", input.specifications.toneControl.bass);\n        if ((_input_specifications5 = input.specifications) === null || _input_specifications5 === void 0 ? void 0 : (_input_specifications_toneControl1 = _input_specifications5.toneControl) === null || _input_specifications_toneControl1 === void 0 ? void 0 : _input_specifications_toneControl1.mid) form.append(\"specifications[toneControl][mid]\", input.specifications.toneControl.mid);\n        if ((_input_specifications6 = input.specifications) === null || _input_specifications6 === void 0 ? void 0 : (_input_specifications_toneControl2 = _input_specifications6.toneControl) === null || _input_specifications_toneControl2 === void 0 ? void 0 : _input_specifications_toneControl2.treble) form.append(\"specifications[toneControl][treble]\", input.specifications.toneControl.treble);\n        if ((_input_specifications7 = input.specifications) === null || _input_specifications7 === void 0 ? void 0 : _input_specifications7.speakerOutput) form.append(\"specifications[speakerOutput]\", input.specifications.speakerOutput);\n        if ((_input_specifications8 = input.specifications) === null || _input_specifications8 === void 0 ? void 0 : _input_specifications8.frequencyResponse) form.append(\"specifications[frequencyResponse]\", input.specifications.frequencyResponse);\n        if ((_input_specifications9 = input.specifications) === null || _input_specifications9 === void 0 ? void 0 : _input_specifications9.snRatio) form.append(\"specifications[snRatio]\", input.specifications.snRatio);\n        if ((_input_specifications10 = input.specifications) === null || _input_specifications10 === void 0 ? void 0 : _input_specifications10.powerSupply) form.append(\"specifications[powerSupply]\", input.specifications.powerSupply);\n        if ((_input_specifications11 = input.specifications) === null || _input_specifications11 === void 0 ? void 0 : _input_specifications11.dimensions) form.append(\"specifications[dimensions]\", input.specifications.dimensions);\n        if ((_input_specifications12 = input.specifications) === null || _input_specifications12 === void 0 ? void 0 : _input_specifications12.weight) form.append(\"specifications[weight]\", input.specifications.weight);\n        // --- Thumbnail file ---\n        if (thumbnailFile) {\n            form.append(\"thumbnail\", thumbnailFile);\n        }\n        files.forEach((f)=>form.append(\"images\", f));\n        const res = await fetch(\"\".concat(API_URL, \"/products\"), {\n            method: \"POST\",\n            headers: {\n                token\n            },\n            body: form\n        });\n        let data;\n        try {\n            data = await res.json();\n        } catch (e) {\n            throw new Error(\"Failed to parse server response\");\n        }\n        if (!res.ok || data.status !== \"success\") {\n            throw new Error(data.message || \"Product creation failed\");\n        }\n        return data.product;\n    },\n    // ✅ UPDATE PRODUCT WITH FILES\n    async updateProduct (id, input, files, thumbnailFile) {\n        var _input_specifications, _input_specifications1, _input_specifications2, _input_specifications3, _input_specifications_toneControl, _input_specifications4, _input_specifications_toneControl1, _input_specifications5, _input_specifications_toneControl2, _input_specifications6, _input_specifications7, _input_specifications8, _input_specifications9, _input_specifications10, _input_specifications11, _input_specifications12;\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n            throw new Error(\"Token was not provided!\");\n        }\n        const form = new FormData();\n        // --- Basic text fields ---\n        form.append(\"name\", input.name);\n        form.append(\"slug\", input.slug);\n        var _input_family;\n        form.append(\"family\", (_input_family = input.family) !== null && _input_family !== void 0 ? _input_family : \"\");\n        var _input_category;\n        form.append(\"category\", (_input_category = input.category) !== null && _input_category !== void 0 ? _input_category : \"\");\n        var _input_technology;\n        form.append(\"technology\", (_input_technology = input.technology) !== null && _input_technology !== void 0 ? _input_technology : \"\");\n        var _input_overview;\n        form.append(\"overview\", (_input_overview = input.overview) !== null && _input_overview !== void 0 ? _input_overview : \"\");\n        var _input_warranty;\n        form.append(\"warranty\", (_input_warranty = input.warranty) !== null && _input_warranty !== void 0 ? _input_warranty : \"\");\n        form.append(\"isTopSellingProduct\", input.isTopSellingProduct ? \"true\" : \"false\");\n        // --- Array fields ---\n        (input.keyHighlights || []).forEach((v)=>form.append(\"keyHighlights[]\", v));\n        (input.features || []).forEach((v)=>form.append(\"features[]\", v));\n        (input.applications || []).forEach((v)=>form.append(\"applications[]\", v));\n        (input.idealFor || []).forEach((v)=>form.append(\"idealFor[]\", v));\n        (input.tags || []).forEach((v)=>form.append(\"tags[]\", v));\n        // --- Specifications as nested fields (Express will parse as object) ---\n        if ((_input_specifications = input.specifications) === null || _input_specifications === void 0 ? void 0 : _input_specifications.powerOutput) form.append(\"specifications[powerOutput]\", input.specifications.powerOutput);\n        if ((_input_specifications1 = input.specifications) === null || _input_specifications1 === void 0 ? void 0 : _input_specifications1.channels) form.append(\"specifications[channels]\", input.specifications.channels);\n        if ((_input_specifications2 = input.specifications) === null || _input_specifications2 === void 0 ? void 0 : _input_specifications2.inputChannels) form.append(\"specifications[inputChannels]\", input.specifications.inputChannels);\n        if ((_input_specifications3 = input.specifications) === null || _input_specifications3 === void 0 ? void 0 : _input_specifications3.digitalPlayer) form.append(\"specifications[digitalPlayer]\", input.specifications.digitalPlayer);\n        if ((_input_specifications4 = input.specifications) === null || _input_specifications4 === void 0 ? void 0 : (_input_specifications_toneControl = _input_specifications4.toneControl) === null || _input_specifications_toneControl === void 0 ? void 0 : _input_specifications_toneControl.bass) form.append(\"specifications[toneControl][bass]\", input.specifications.toneControl.bass);\n        if ((_input_specifications5 = input.specifications) === null || _input_specifications5 === void 0 ? void 0 : (_input_specifications_toneControl1 = _input_specifications5.toneControl) === null || _input_specifications_toneControl1 === void 0 ? void 0 : _input_specifications_toneControl1.mid) form.append(\"specifications[toneControl][mid]\", input.specifications.toneControl.mid);\n        if ((_input_specifications6 = input.specifications) === null || _input_specifications6 === void 0 ? void 0 : (_input_specifications_toneControl2 = _input_specifications6.toneControl) === null || _input_specifications_toneControl2 === void 0 ? void 0 : _input_specifications_toneControl2.treble) form.append(\"specifications[toneControl][treble]\", input.specifications.toneControl.treble);\n        if ((_input_specifications7 = input.specifications) === null || _input_specifications7 === void 0 ? void 0 : _input_specifications7.speakerOutput) form.append(\"specifications[speakerOutput]\", input.specifications.speakerOutput);\n        if ((_input_specifications8 = input.specifications) === null || _input_specifications8 === void 0 ? void 0 : _input_specifications8.frequencyResponse) form.append(\"specifications[frequencyResponse]\", input.specifications.frequencyResponse);\n        if ((_input_specifications9 = input.specifications) === null || _input_specifications9 === void 0 ? void 0 : _input_specifications9.snRatio) form.append(\"specifications[snRatio]\", input.specifications.snRatio);\n        if ((_input_specifications10 = input.specifications) === null || _input_specifications10 === void 0 ? void 0 : _input_specifications10.powerSupply) form.append(\"specifications[powerSupply]\", input.specifications.powerSupply);\n        if ((_input_specifications11 = input.specifications) === null || _input_specifications11 === void 0 ? void 0 : _input_specifications11.dimensions) form.append(\"specifications[dimensions]\", input.specifications.dimensions);\n        if ((_input_specifications12 = input.specifications) === null || _input_specifications12 === void 0 ? void 0 : _input_specifications12.weight) form.append(\"specifications[weight]\", input.specifications.weight);\n        // --- Thumbnail file ---\n        if (thumbnailFile) {\n            form.append(\"thumbnail\", thumbnailFile);\n        }\n        // --- Files (only send if user picked new ones) ---\n        if (files[0]) {\n            form.append(\"imgCover\", files[0]);\n            files.forEach((f)=>form.append(\"images\", f));\n        }\n        const res = await fetch(\"\".concat(API_URL, \"/products/\").concat(id), {\n            method: \"PUT\",\n            headers: {\n                token\n            },\n            body: form\n        });\n        let data;\n        try {\n            data = await res.json();\n        } catch (e) {\n            throw new Error(\"Failed to parse server response\");\n        }\n        if (!res.ok || data.status !== \"success\") {\n            throw new Error(data.message || \"Product update failed\");\n        }\n        return data.product;\n    },\n    async deleteProduct (id) {\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n            throw new Error(\"Token was not provided!\");\n        }\n        if (USE_DUMMY_DATA) {\n            await delay(300);\n            localProducts = localProducts.filter((p)=>p._id !== id);\n            return;\n        }\n        const response = await fetch(\"\".concat(API_URL, \"/products/\").concat(id), {\n            method: \"DELETE\",\n            headers: {\n                token,\n                \"Content-Type\": \"application/json\"\n            }\n        });\n        if (!response.ok) {\n            throw new Error(\"Failed to delete product\");\n        }\n    },\n    async generateSerialNumbers (productId, quantity, batchNumber) {\n        // TEMPORARY: Using dummy data until backend is updated\n        // if (USE_DUMMY_SERIAL_DATA) {\n        //   await delay(500);\n        //   const newSerials = generateDummySerialNumbers(productId, quantity, batchNumber);\n        //   localSerialNumbers = [...newSerials, ...localSerialNumbers];\n        //   return newSerials;\n        // }\n        // COMMENTED OUT: Uncomment when backend is ready\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n            throw new Error(\"Token was not provided!\");\n        }\n        const response = await fetch(\"\".concat(API_URL, \"/serial-numbers/generate\"), {\n            method: \"POST\",\n            headers: {\n                token,\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                productId,\n                quantity,\n                batchNumber\n            })\n        });\n        if (!response.ok) {\n            throw new Error(\"Failed to generate serial numbers\");\n        }\n        const data = await response.json();\n        return data.serialNumbers;\n    },\n    async getProductSerialNumbers (productId) {\n        // TEMPORARY: Using dummy data until backend is updated\n        // if (USE_DUMMY_SERIAL_DATA) {\n        //   await delay(300);\n        //   return localSerialNumbers.filter(s => s.productId === productId);\n        // }\n        // COMMENTED OUT: Uncomment when backend is ready\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n            throw new Error(\"Token was not provided!\");\n        }\n        const response = await fetch(\"\".concat(API_URL, \"/serial-numbers/product/\").concat(productId), {\n            method: \"GET\",\n            headers: {\n                token\n            }\n        });\n        if (!response.ok) {\n            throw new Error(\"Failed to fetch serial numbers\");\n        }\n        const data = await response.json();\n        return data.serialNumbers || [];\n    },\n    async deactivateSerialNumber (serialNumberId) {\n        // TEMPORARY: Using dummy data until backend is updated\n        // if (USE_DUMMY_SERIAL_DATA) {\n        //   await delay(300);\n        //   const index = localSerialNumbers.findIndex(s => s._id === serialNumberId);\n        //   if (index !== -1) {\n        //     localSerialNumbers[index].status = 'deactivated';\n        //   }\n        //   return;\n        // }\n        // COMMENTED OUT: Uncomment when backend is ready\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n            throw new Error(\"Token was not provided!\");\n        }\n        const response = await fetch(\"\".concat(API_URL, \"/serial-numbers/\").concat(serialNumberId, \"/deactivate\"), {\n            method: \"PATCH\",\n            headers: {\n                token,\n                \"Content-Type\": \"application/json\"\n            }\n        });\n        if (!response.ok) {\n            throw new Error(\"Failed to deactivate serial number\");\n        }\n    },\n    async verifySerialNumber (serialNumber) {\n        // COMMENTED OUT: Uncomment when backend is ready\n        const response = await fetch(\"\".concat(API_URL, \"/serial-numbers/verify/\").concat(serialNumber), {\n            method: \"GET\"\n        });\n        if (!response.ok) {\n            throw new Error(\"Failed to verify serial number\");\n        }\n        const data = await response.json();\n        return data;\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9hcGkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBQzJDO0FBRXhGLE1BQU1FLFVBQVVDLDhCQUErQixJQUFJO0FBRW5ELE1BQU1HLGlCQUFpQjtBQUV2Qix3RUFBd0U7QUFDeEUsTUFBTUMsd0JBQXdCO0FBRTlCLDZDQUE2QztBQUM3QyxJQUFJQyxxQkFBcUI7T0FBSVAscUVBQWtCQTtDQUFDO0FBdURoRCxJQUFJUSxnQkFBZ0I7T0FBSVQsc0RBQWFBO0NBQUM7QUFDdEMsSUFBSVUsU0FBUztBQUViLE1BQU1DLFFBQVEsQ0FBQ0MsS0FBZSxJQUFJQyxRQUFRQyxDQUFBQSxVQUFXQyxXQUFXRCxTQUFTRjtBQUVsRSxNQUFNSSxNQUFNO0lBQ2pCLE1BQU1DO1lBQVlDLE9BQUFBLGlFQUFlLEdBQUdDLFFBQUFBLGlFQUFnQjtRQUNsRCxNQUFNQyxRQUFRQyxhQUFhQyxPQUFPLENBQUM7UUFDbkMsSUFBSSxDQUFDRixPQUFPO1lBQ1YsTUFBTSxJQUFJRyxNQUFNO1FBQ2xCO1FBRUEsSUFBSWpCLGdCQUFnQjtZQUNsQixNQUFNSyxNQUFNO1lBQ1osTUFBTWEsYUFBYSxDQUFDTixPQUFPLEtBQUtDO1lBQ2hDLE1BQU1NLG9CQUFvQmhCLGNBQWNpQixLQUFLLENBQUNGLFlBQVlBLGFBQWFMO1lBQ3ZFLE9BQU87Z0JBQ0xRLFVBQVVGO2dCQUNWRyxZQUFZQyxLQUFLQyxJQUFJLENBQUNyQixjQUFjc0IsTUFBTSxHQUFHWjtnQkFDN0NhLGVBQWV2QixjQUFjc0IsTUFBTTtZQUNyQztRQUNGO1FBRUEsTUFBTUUsV0FBVyxNQUFNQyxNQUFNLEdBQTRCaEIsT0FBekJoQixTQUFRLG1CQUErQmlCLE9BQWRELE1BQUssV0FBZSxPQUFOQyxRQUFTO1lBQzlFZ0IsUUFBUTtZQUNSQyxTQUFTO2dCQUNQaEI7Z0JBQ0EsaUJBQWlCO1lBQ25CO1FBQ0Y7UUFFQSxJQUFJLENBQUNhLFNBQVNJLEVBQUUsRUFBRTtZQUNoQixNQUFNLElBQUlkLE1BQU07UUFDbEI7UUFFQSxNQUFNZSxPQUFPLE1BQU1MLFNBQVNNLElBQUk7UUFDaEMsT0FBTztZQUNMWixVQUFVVyxLQUFLWCxRQUFRO1lBQ3ZCQyxZQUFZVSxLQUFLVixVQUFVO1lBQzNCSSxlQUFlTSxLQUFLTixhQUFhO1FBQ25DO0lBQ0Y7SUFFQSxNQUFNUSxZQUFXQyxFQUFVO1FBQ3pCLE1BQU1yQixRQUFRQyxhQUFhQyxPQUFPLENBQUM7UUFDbkMsSUFBSSxDQUFDRixPQUFPO1lBQ1YsTUFBTSxJQUFJRyxNQUFNO1FBQ2xCO1FBRUEsSUFBSWpCLGdCQUFnQjtZQUNsQixNQUFNSyxNQUFNO1lBQ1osTUFBTStCLFVBQVVqQyxjQUFja0MsSUFBSSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxHQUFHLEtBQUtKO1lBQ2xELElBQUksQ0FBQ0MsU0FBUztnQkFDWixNQUFNLElBQUluQixNQUFNO1lBQ2xCO1lBQ0EsT0FBTztnQkFBRSxHQUFHbUIsT0FBTztZQUFDO1FBQ3RCO1FBRUEsTUFBTVQsV0FBVyxNQUFNQyxNQUFNLEdBQXVCTyxPQUFwQnZDLFNBQVEsY0FBZSxPQUFIdUMsS0FBTTtZQUN4RE4sUUFBUTtZQUNSQyxTQUFTO2dCQUNQaEI7WUFDRjtRQUNGO1FBRUEsSUFBSSxDQUFDYSxTQUFTSSxFQUFFLEVBQUU7WUFDaEIsTUFBTSxJQUFJZCxNQUFNO1FBQ2xCO1FBRUEsTUFBTWUsT0FBTyxNQUFNTCxTQUFTTSxJQUFJO1FBQ2hDLE9BQU9ELEtBQUtJLE9BQU8sSUFBSUo7SUFDekI7SUFFQSw4QkFBOEI7SUFDOUIsTUFBTVEsZUFBY0MsS0FBbUIsRUFBRUMsS0FBYSxFQUFFQyxhQUEyQjtZQTBCN0VGLHVCQUVBQSx3QkFFQUEsd0JBRUFBLHdCQUVBQSxtQ0FBQUEsd0JBRUFBLG9DQUFBQSx3QkFFQUEsb0NBQUFBLHdCQUVBQSx3QkFFQUEsd0JBRUFBLHdCQUVBQSx5QkFFQUEseUJBRUFBO1FBakRKLE1BQU0zQixRQUFRQyxhQUFhQyxPQUFPLENBQUM7UUFDbkMsSUFBSSxDQUFDRixPQUFPO1lBQ1YsTUFBTSxJQUFJRyxNQUFNO1FBQ2xCO1FBRUEsTUFBTTJCLE9BQU8sSUFBSUM7UUFFakIscURBQXFEO1FBQ3JERCxLQUFLRSxNQUFNLENBQUMsUUFBUUwsTUFBTU0sSUFBSTtRQUM5QkgsS0FBS0UsTUFBTSxDQUFDLFFBQVFMLE1BQU1PLElBQUk7WUFDUlA7UUFBdEJHLEtBQUtFLE1BQU0sQ0FBQyxVQUFVTCxDQUFBQSxnQkFBQUEsTUFBTVEsTUFBTSxjQUFaUiwyQkFBQUEsZ0JBQWdCO1lBQ2RBO1FBQXhCRyxLQUFLRSxNQUFNLENBQUMsWUFBWUwsQ0FBQUEsa0JBQUFBLE1BQU1TLFFBQVEsY0FBZFQsNkJBQUFBLGtCQUFrQjtZQUNoQkE7UUFBMUJHLEtBQUtFLE1BQU0sQ0FBQyxjQUFjTCxDQUFBQSxvQkFBQUEsTUFBTVUsVUFBVSxjQUFoQlYsK0JBQUFBLG9CQUFvQjtZQUN0QkE7UUFBeEJHLEtBQUtFLE1BQU0sQ0FBQyxZQUFZTCxDQUFBQSxrQkFBQUEsTUFBTVcsUUFBUSxjQUFkWCw2QkFBQUEsa0JBQWtCO1lBQ2xCQTtRQUF4QkcsS0FBS0UsTUFBTSxDQUFDLFlBQVlMLENBQUFBLGtCQUFBQSxNQUFNWSxRQUFRLGNBQWRaLDZCQUFBQSxrQkFBa0I7UUFDMUNHLEtBQUtFLE1BQU0sQ0FBQyx1QkFBdUJMLE1BQU1hLG1CQUFtQixHQUFHLFNBQVM7UUFFeEUsc0ZBQXNGO1FBQ3JGYixDQUFBQSxNQUFNYyxhQUFhLElBQUksRUFBRSxFQUFFQyxPQUFPLENBQUNDLENBQUFBLElBQUtiLEtBQUtFLE1BQU0sQ0FBQyxtQkFBbUJXO1FBQ3ZFaEIsQ0FBQUEsTUFBTWlCLFFBQVEsSUFBSSxFQUFFLEVBQUVGLE9BQU8sQ0FBQ0MsQ0FBQUEsSUFBS2IsS0FBS0UsTUFBTSxDQUFDLGNBQWNXO1FBQzdEaEIsQ0FBQUEsTUFBTWtCLFlBQVksSUFBSSxFQUFFLEVBQUVILE9BQU8sQ0FBQ0MsQ0FBQUEsSUFBS2IsS0FBS0UsTUFBTSxDQUFDLGtCQUFrQlc7UUFDckVoQixDQUFBQSxNQUFNbUIsUUFBUSxJQUFJLEVBQUUsRUFBRUosT0FBTyxDQUFDQyxDQUFBQSxJQUFLYixLQUFLRSxNQUFNLENBQUMsY0FBY1c7UUFDN0RoQixDQUFBQSxNQUFNb0IsSUFBSSxJQUFJLEVBQUUsRUFBRUwsT0FBTyxDQUFDQyxDQUFBQSxJQUFLYixLQUFLRSxNQUFNLENBQUMsVUFBVVc7UUFFdEQseUVBQXlFO1FBQ3pFLEtBQUloQix3QkFBQUEsTUFBTXFCLGNBQWMsY0FBcEJyQiw0Q0FBQUEsc0JBQXNCc0IsV0FBVyxFQUNuQ25CLEtBQUtFLE1BQU0sQ0FBQywrQkFBK0JMLE1BQU1xQixjQUFjLENBQUNDLFdBQVc7UUFDN0UsS0FBSXRCLHlCQUFBQSxNQUFNcUIsY0FBYyxjQUFwQnJCLDZDQUFBQSx1QkFBc0J1QixRQUFRLEVBQ2hDcEIsS0FBS0UsTUFBTSxDQUFDLDRCQUE0QkwsTUFBTXFCLGNBQWMsQ0FBQ0UsUUFBUTtRQUN2RSxLQUFJdkIseUJBQUFBLE1BQU1xQixjQUFjLGNBQXBCckIsNkNBQUFBLHVCQUFzQndCLGFBQWEsRUFDckNyQixLQUFLRSxNQUFNLENBQUMsaUNBQWlDTCxNQUFNcUIsY0FBYyxDQUFDRyxhQUFhO1FBQ2pGLEtBQUl4Qix5QkFBQUEsTUFBTXFCLGNBQWMsY0FBcEJyQiw2Q0FBQUEsdUJBQXNCeUIsYUFBYSxFQUNyQ3RCLEtBQUtFLE1BQU0sQ0FBQyxpQ0FBaUNMLE1BQU1xQixjQUFjLENBQUNJLGFBQWE7UUFDakYsS0FBSXpCLHlCQUFBQSxNQUFNcUIsY0FBYyxjQUFwQnJCLDhDQUFBQSxvQ0FBQUEsdUJBQXNCMEIsV0FBVyxjQUFqQzFCLHdEQUFBQSxrQ0FBbUMyQixJQUFJLEVBQ3pDeEIsS0FBS0UsTUFBTSxDQUFDLHFDQUFxQ0wsTUFBTXFCLGNBQWMsQ0FBQ0ssV0FBVyxDQUFDQyxJQUFJO1FBQ3hGLEtBQUkzQix5QkFBQUEsTUFBTXFCLGNBQWMsY0FBcEJyQiw4Q0FBQUEscUNBQUFBLHVCQUFzQjBCLFdBQVcsY0FBakMxQix5REFBQUEsbUNBQW1DNEIsR0FBRyxFQUN4Q3pCLEtBQUtFLE1BQU0sQ0FBQyxvQ0FBb0NMLE1BQU1xQixjQUFjLENBQUNLLFdBQVcsQ0FBQ0UsR0FBRztRQUN0RixLQUFJNUIseUJBQUFBLE1BQU1xQixjQUFjLGNBQXBCckIsOENBQUFBLHFDQUFBQSx1QkFBc0IwQixXQUFXLGNBQWpDMUIseURBQUFBLG1DQUFtQzZCLE1BQU0sRUFDM0MxQixLQUFLRSxNQUFNLENBQUMsdUNBQXVDTCxNQUFNcUIsY0FBYyxDQUFDSyxXQUFXLENBQUNHLE1BQU07UUFDNUYsS0FBSTdCLHlCQUFBQSxNQUFNcUIsY0FBYyxjQUFwQnJCLDZDQUFBQSx1QkFBc0I4QixhQUFhLEVBQ3JDM0IsS0FBS0UsTUFBTSxDQUFDLGlDQUFpQ0wsTUFBTXFCLGNBQWMsQ0FBQ1MsYUFBYTtRQUNqRixLQUFJOUIseUJBQUFBLE1BQU1xQixjQUFjLGNBQXBCckIsNkNBQUFBLHVCQUFzQitCLGlCQUFpQixFQUN6QzVCLEtBQUtFLE1BQU0sQ0FBQyxxQ0FBcUNMLE1BQU1xQixjQUFjLENBQUNVLGlCQUFpQjtRQUN6RixLQUFJL0IseUJBQUFBLE1BQU1xQixjQUFjLGNBQXBCckIsNkNBQUFBLHVCQUFzQmdDLE9BQU8sRUFDL0I3QixLQUFLRSxNQUFNLENBQUMsMkJBQTJCTCxNQUFNcUIsY0FBYyxDQUFDVyxPQUFPO1FBQ3JFLEtBQUloQywwQkFBQUEsTUFBTXFCLGNBQWMsY0FBcEJyQiw4Q0FBQUEsd0JBQXNCaUMsV0FBVyxFQUNuQzlCLEtBQUtFLE1BQU0sQ0FBQywrQkFBK0JMLE1BQU1xQixjQUFjLENBQUNZLFdBQVc7UUFDN0UsS0FBSWpDLDBCQUFBQSxNQUFNcUIsY0FBYyxjQUFwQnJCLDhDQUFBQSx3QkFBc0JrQyxVQUFVLEVBQ2xDL0IsS0FBS0UsTUFBTSxDQUFDLDhCQUE4QkwsTUFBTXFCLGNBQWMsQ0FBQ2EsVUFBVTtRQUMzRSxLQUFJbEMsMEJBQUFBLE1BQU1xQixjQUFjLGNBQXBCckIsOENBQUFBLHdCQUFzQm1DLE1BQU0sRUFDOUJoQyxLQUFLRSxNQUFNLENBQUMsMEJBQTBCTCxNQUFNcUIsY0FBYyxDQUFDYyxNQUFNO1FBRW5FLHlCQUF5QjtRQUN6QixJQUFJakMsZUFBZTtZQUNqQkMsS0FBS0UsTUFBTSxDQUFDLGFBQWFIO1FBQzNCO1FBRUFELE1BQU1jLE9BQU8sQ0FBQ3FCLENBQUFBLElBQUtqQyxLQUFLRSxNQUFNLENBQUMsVUFBVStCO1FBRXpDLE1BQU1DLE1BQU0sTUFBTWxELE1BQU0sR0FBVyxPQUFSaEMsU0FBUSxjQUFZO1lBQzdDaUMsUUFBUTtZQUNSQyxTQUFTO2dCQUNQaEI7WUFFRjtZQUNBaUUsTUFBTW5DO1FBQ1I7UUFFQSxJQUFJWjtRQUNKLElBQUk7WUFDRkEsT0FBTyxNQUFNOEMsSUFBSTdDLElBQUk7UUFDdkIsRUFBRSxVQUFNO1lBQ04sTUFBTSxJQUFJaEIsTUFBTTtRQUNsQjtRQUVBLElBQUksQ0FBQzZELElBQUkvQyxFQUFFLElBQUlDLEtBQUtnRCxNQUFNLEtBQUssV0FBVztZQUN4QyxNQUFNLElBQUkvRCxNQUFNZSxLQUFLaUQsT0FBTyxJQUFJO1FBQ2xDO1FBRUEsT0FBT2pELEtBQUtJLE9BQU87SUFDckI7SUFFQSw4QkFBOEI7SUFDOUIsTUFBTThDLGVBQWMvQyxFQUFVLEVBQUVNLEtBQW1CLEVBQUVDLEtBQWEsRUFBRUMsYUFBMkI7WUEwQnpGRix1QkFFQUEsd0JBRUFBLHdCQUVBQSx3QkFFQUEsbUNBQUFBLHdCQUVBQSxvQ0FBQUEsd0JBRUFBLG9DQUFBQSx3QkFFQUEsd0JBRUFBLHdCQUVBQSx3QkFFQUEseUJBRUFBLHlCQUVBQTtRQWpESixNQUFNM0IsUUFBUUMsYUFBYUMsT0FBTyxDQUFDO1FBQ25DLElBQUksQ0FBQ0YsT0FBTztZQUNWLE1BQU0sSUFBSUcsTUFBTTtRQUNsQjtRQUVBLE1BQU0yQixPQUFPLElBQUlDO1FBRWpCLDRCQUE0QjtRQUM1QkQsS0FBS0UsTUFBTSxDQUFDLFFBQVFMLE1BQU1NLElBQUk7UUFDOUJILEtBQUtFLE1BQU0sQ0FBQyxRQUFRTCxNQUFNTyxJQUFJO1lBQ1JQO1FBQXRCRyxLQUFLRSxNQUFNLENBQUMsVUFBVUwsQ0FBQUEsZ0JBQUFBLE1BQU1RLE1BQU0sY0FBWlIsMkJBQUFBLGdCQUFnQjtZQUNkQTtRQUF4QkcsS0FBS0UsTUFBTSxDQUFDLFlBQVlMLENBQUFBLGtCQUFBQSxNQUFNUyxRQUFRLGNBQWRULDZCQUFBQSxrQkFBa0I7WUFDaEJBO1FBQTFCRyxLQUFLRSxNQUFNLENBQUMsY0FBY0wsQ0FBQUEsb0JBQUFBLE1BQU1VLFVBQVUsY0FBaEJWLCtCQUFBQSxvQkFBb0I7WUFDdEJBO1FBQXhCRyxLQUFLRSxNQUFNLENBQUMsWUFBWUwsQ0FBQUEsa0JBQUFBLE1BQU1XLFFBQVEsY0FBZFgsNkJBQUFBLGtCQUFrQjtZQUNsQkE7UUFBeEJHLEtBQUtFLE1BQU0sQ0FBQyxZQUFZTCxDQUFBQSxrQkFBQUEsTUFBTVksUUFBUSxjQUFkWiw2QkFBQUEsa0JBQWtCO1FBQzFDRyxLQUFLRSxNQUFNLENBQUMsdUJBQXVCTCxNQUFNYSxtQkFBbUIsR0FBRyxTQUFTO1FBRXhFLHVCQUF1QjtRQUN0QmIsQ0FBQUEsTUFBTWMsYUFBYSxJQUFJLEVBQUUsRUFBRUMsT0FBTyxDQUFDQyxDQUFBQSxJQUFLYixLQUFLRSxNQUFNLENBQUMsbUJBQW1CVztRQUN2RWhCLENBQUFBLE1BQU1pQixRQUFRLElBQUksRUFBRSxFQUFFRixPQUFPLENBQUNDLENBQUFBLElBQUtiLEtBQUtFLE1BQU0sQ0FBQyxjQUFjVztRQUM3RGhCLENBQUFBLE1BQU1rQixZQUFZLElBQUksRUFBRSxFQUFFSCxPQUFPLENBQUNDLENBQUFBLElBQUtiLEtBQUtFLE1BQU0sQ0FBQyxrQkFBa0JXO1FBQ3JFaEIsQ0FBQUEsTUFBTW1CLFFBQVEsSUFBSSxFQUFFLEVBQUVKLE9BQU8sQ0FBQ0MsQ0FBQUEsSUFBS2IsS0FBS0UsTUFBTSxDQUFDLGNBQWNXO1FBQzdEaEIsQ0FBQUEsTUFBTW9CLElBQUksSUFBSSxFQUFFLEVBQUVMLE9BQU8sQ0FBQ0MsQ0FBQUEsSUFBS2IsS0FBS0UsTUFBTSxDQUFDLFVBQVVXO1FBRXRELHlFQUF5RTtRQUN6RSxLQUFJaEIsd0JBQUFBLE1BQU1xQixjQUFjLGNBQXBCckIsNENBQUFBLHNCQUFzQnNCLFdBQVcsRUFDbkNuQixLQUFLRSxNQUFNLENBQUMsK0JBQStCTCxNQUFNcUIsY0FBYyxDQUFDQyxXQUFXO1FBQzdFLEtBQUl0Qix5QkFBQUEsTUFBTXFCLGNBQWMsY0FBcEJyQiw2Q0FBQUEsdUJBQXNCdUIsUUFBUSxFQUNoQ3BCLEtBQUtFLE1BQU0sQ0FBQyw0QkFBNEJMLE1BQU1xQixjQUFjLENBQUNFLFFBQVE7UUFDdkUsS0FBSXZCLHlCQUFBQSxNQUFNcUIsY0FBYyxjQUFwQnJCLDZDQUFBQSx1QkFBc0J3QixhQUFhLEVBQ3JDckIsS0FBS0UsTUFBTSxDQUFDLGlDQUFpQ0wsTUFBTXFCLGNBQWMsQ0FBQ0csYUFBYTtRQUNqRixLQUFJeEIseUJBQUFBLE1BQU1xQixjQUFjLGNBQXBCckIsNkNBQUFBLHVCQUFzQnlCLGFBQWEsRUFDckN0QixLQUFLRSxNQUFNLENBQUMsaUNBQWlDTCxNQUFNcUIsY0FBYyxDQUFDSSxhQUFhO1FBQ2pGLEtBQUl6Qix5QkFBQUEsTUFBTXFCLGNBQWMsY0FBcEJyQiw4Q0FBQUEsb0NBQUFBLHVCQUFzQjBCLFdBQVcsY0FBakMxQix3REFBQUEsa0NBQW1DMkIsSUFBSSxFQUN6Q3hCLEtBQUtFLE1BQU0sQ0FBQyxxQ0FBcUNMLE1BQU1xQixjQUFjLENBQUNLLFdBQVcsQ0FBQ0MsSUFBSTtRQUN4RixLQUFJM0IseUJBQUFBLE1BQU1xQixjQUFjLGNBQXBCckIsOENBQUFBLHFDQUFBQSx1QkFBc0IwQixXQUFXLGNBQWpDMUIseURBQUFBLG1DQUFtQzRCLEdBQUcsRUFDeEN6QixLQUFLRSxNQUFNLENBQUMsb0NBQW9DTCxNQUFNcUIsY0FBYyxDQUFDSyxXQUFXLENBQUNFLEdBQUc7UUFDdEYsS0FBSTVCLHlCQUFBQSxNQUFNcUIsY0FBYyxjQUFwQnJCLDhDQUFBQSxxQ0FBQUEsdUJBQXNCMEIsV0FBVyxjQUFqQzFCLHlEQUFBQSxtQ0FBbUM2QixNQUFNLEVBQzNDMUIsS0FBS0UsTUFBTSxDQUFDLHVDQUF1Q0wsTUFBTXFCLGNBQWMsQ0FBQ0ssV0FBVyxDQUFDRyxNQUFNO1FBQzVGLEtBQUk3Qix5QkFBQUEsTUFBTXFCLGNBQWMsY0FBcEJyQiw2Q0FBQUEsdUJBQXNCOEIsYUFBYSxFQUNyQzNCLEtBQUtFLE1BQU0sQ0FBQyxpQ0FBaUNMLE1BQU1xQixjQUFjLENBQUNTLGFBQWE7UUFDakYsS0FBSTlCLHlCQUFBQSxNQUFNcUIsY0FBYyxjQUFwQnJCLDZDQUFBQSx1QkFBc0IrQixpQkFBaUIsRUFDekM1QixLQUFLRSxNQUFNLENBQUMscUNBQXFDTCxNQUFNcUIsY0FBYyxDQUFDVSxpQkFBaUI7UUFDekYsS0FBSS9CLHlCQUFBQSxNQUFNcUIsY0FBYyxjQUFwQnJCLDZDQUFBQSx1QkFBc0JnQyxPQUFPLEVBQy9CN0IsS0FBS0UsTUFBTSxDQUFDLDJCQUEyQkwsTUFBTXFCLGNBQWMsQ0FBQ1csT0FBTztRQUNyRSxLQUFJaEMsMEJBQUFBLE1BQU1xQixjQUFjLGNBQXBCckIsOENBQUFBLHdCQUFzQmlDLFdBQVcsRUFDbkM5QixLQUFLRSxNQUFNLENBQUMsK0JBQStCTCxNQUFNcUIsY0FBYyxDQUFDWSxXQUFXO1FBQzdFLEtBQUlqQywwQkFBQUEsTUFBTXFCLGNBQWMsY0FBcEJyQiw4Q0FBQUEsd0JBQXNCa0MsVUFBVSxFQUNsQy9CLEtBQUtFLE1BQU0sQ0FBQyw4QkFBOEJMLE1BQU1xQixjQUFjLENBQUNhLFVBQVU7UUFDM0UsS0FBSWxDLDBCQUFBQSxNQUFNcUIsY0FBYyxjQUFwQnJCLDhDQUFBQSx3QkFBc0JtQyxNQUFNLEVBQzlCaEMsS0FBS0UsTUFBTSxDQUFDLDBCQUEwQkwsTUFBTXFCLGNBQWMsQ0FBQ2MsTUFBTTtRQUVuRSx5QkFBeUI7UUFDekIsSUFBSWpDLGVBQWU7WUFDakJDLEtBQUtFLE1BQU0sQ0FBQyxhQUFhSDtRQUMzQjtRQUVBLG9EQUFvRDtRQUNwRCxJQUFJRCxLQUFLLENBQUMsRUFBRSxFQUFFO1lBQ1pFLEtBQUtFLE1BQU0sQ0FBQyxZQUFZSixLQUFLLENBQUMsRUFBRTtZQUNoQ0EsTUFBTWMsT0FBTyxDQUFDcUIsQ0FBQUEsSUFBS2pDLEtBQUtFLE1BQU0sQ0FBQyxVQUFVK0I7UUFDM0M7UUFFQSxNQUFNQyxNQUFNLE1BQU1sRCxNQUFNLEdBQXVCTyxPQUFwQnZDLFNBQVEsY0FBZSxPQUFIdUMsS0FBTTtZQUNuRE4sUUFBUTtZQUNSQyxTQUFTO2dCQUNQaEI7WUFDRjtZQUNBaUUsTUFBTW5DO1FBQ1I7UUFFQSxJQUFJWjtRQUNKLElBQUk7WUFDRkEsT0FBTyxNQUFNOEMsSUFBSTdDLElBQUk7UUFDdkIsRUFBRSxVQUFNO1lBQ04sTUFBTSxJQUFJaEIsTUFBTTtRQUNsQjtRQUVBLElBQUksQ0FBQzZELElBQUkvQyxFQUFFLElBQUlDLEtBQUtnRCxNQUFNLEtBQUssV0FBVztZQUN4QyxNQUFNLElBQUkvRCxNQUFNZSxLQUFLaUQsT0FBTyxJQUFJO1FBQ2xDO1FBRUEsT0FBT2pELEtBQUtJLE9BQU87SUFDckI7SUFFQSxNQUFNK0MsZUFBY2hELEVBQVU7UUFDNUIsTUFBTXJCLFFBQVFDLGFBQWFDLE9BQU8sQ0FBQztRQUNuQyxJQUFJLENBQUNGLE9BQU87WUFDVixNQUFNLElBQUlHLE1BQU07UUFDbEI7UUFFQSxJQUFJakIsZ0JBQWdCO1lBQ2xCLE1BQU1LLE1BQU07WUFDWkYsZ0JBQWdCQSxjQUFjaUYsTUFBTSxDQUFDOUMsQ0FBQUEsSUFBS0EsRUFBRUMsR0FBRyxLQUFLSjtZQUNwRDtRQUNGO1FBRUEsTUFBTVIsV0FBVyxNQUFNQyxNQUFNLEdBQXVCTyxPQUFwQnZDLFNBQVEsY0FBZSxPQUFIdUMsS0FBTTtZQUN4RE4sUUFBUTtZQUNSQyxTQUFTO2dCQUNQaEI7Z0JBQ0EsZ0JBQWdCO1lBQ2xCO1FBQ0Y7UUFFQSxJQUFJLENBQUNhLFNBQVNJLEVBQUUsRUFBRTtZQUNoQixNQUFNLElBQUlkLE1BQU07UUFDbEI7SUFDRjtJQUVBLE1BQU1vRSx1QkFBc0JDLFNBQWlCLEVBQUVDLFFBQWdCLEVBQUVDLFdBQW9CO1FBQ25GLHVEQUF1RDtRQUN2RCwrQkFBK0I7UUFDL0Isc0JBQXNCO1FBQ3RCLHFGQUFxRjtRQUNyRixpRUFBaUU7UUFDakUsdUJBQXVCO1FBQ3ZCLElBQUk7UUFFSixpREFBaUQ7UUFDakQsTUFBTTFFLFFBQVFDLGFBQWFDLE9BQU8sQ0FBQztRQUNuQyxJQUFJLENBQUNGLE9BQU87WUFDVixNQUFNLElBQUlHLE1BQU07UUFDbEI7UUFFQSxNQUFNVSxXQUFXLE1BQU1DLE1BQU0sR0FBVyxPQUFSaEMsU0FBUSw2QkFBMkI7WUFDakVpQyxRQUFRO1lBQ1JDLFNBQVM7Z0JBQ1BoQjtnQkFDQSxnQkFBZ0I7WUFDbEI7WUFDQWlFLE1BQU1VLEtBQUtDLFNBQVMsQ0FBQztnQkFBRUo7Z0JBQVdDO2dCQUFVQztZQUFZO1FBQzFEO1FBRUEsSUFBSSxDQUFDN0QsU0FBU0ksRUFBRSxFQUFFO1lBQ2hCLE1BQU0sSUFBSWQsTUFBTTtRQUNsQjtRQUVBLE1BQU1lLE9BQU8sTUFBTUwsU0FBU00sSUFBSTtRQUNoQyxPQUFPRCxLQUFLMkQsYUFBYTtJQUMzQjtJQUVBLE1BQU1DLHlCQUF3Qk4sU0FBaUI7UUFDN0MsdURBQXVEO1FBQ3ZELCtCQUErQjtRQUMvQixzQkFBc0I7UUFDdEIsc0VBQXNFO1FBQ3RFLElBQUk7UUFFSixpREFBaUQ7UUFDakQsTUFBTXhFLFFBQVFDLGFBQWFDLE9BQU8sQ0FBQztRQUNuQyxJQUFJLENBQUNGLE9BQU87WUFDVixNQUFNLElBQUlHLE1BQU07UUFDbEI7UUFFQSxNQUFNVSxXQUFXLE1BQU1DLE1BQU0sR0FBcUMwRCxPQUFsQzFGLFNBQVEsNEJBQW9DLE9BQVYwRixZQUFhO1lBQzdFekQsUUFBUTtZQUNSQyxTQUFTO2dCQUNQaEI7WUFDRjtRQUNGO1FBRUEsSUFBSSxDQUFDYSxTQUFTSSxFQUFFLEVBQUU7WUFDaEIsTUFBTSxJQUFJZCxNQUFNO1FBQ2xCO1FBRUEsTUFBTWUsT0FBTyxNQUFNTCxTQUFTTSxJQUFJO1FBQ2hDLE9BQU9ELEtBQUsyRCxhQUFhLElBQUksRUFBRTtJQUNqQztJQUVBLE1BQU1FLHdCQUF1QkMsY0FBc0I7UUFDakQsdURBQXVEO1FBQ3ZELCtCQUErQjtRQUMvQixzQkFBc0I7UUFDdEIsK0VBQStFO1FBQy9FLHdCQUF3QjtRQUN4Qix3REFBd0Q7UUFDeEQsTUFBTTtRQUNOLFlBQVk7UUFDWixJQUFJO1FBRUosaURBQWlEO1FBQ2pELE1BQU1oRixRQUFRQyxhQUFhQyxPQUFPLENBQUM7UUFDbkMsSUFBSSxDQUFDRixPQUFPO1lBQ1YsTUFBTSxJQUFJRyxNQUFNO1FBQ2xCO1FBRUEsTUFBTVUsV0FBVyxNQUFNQyxNQUFNLEdBQTZCa0UsT0FBMUJsRyxTQUFRLG9CQUFpQyxPQUFma0csZ0JBQWUsZ0JBQWM7WUFDckZqRSxRQUFRO1lBQ1JDLFNBQVM7Z0JBQ1BoQjtnQkFDQSxnQkFBZ0I7WUFDbEI7UUFDRjtRQUVBLElBQUksQ0FBQ2EsU0FBU0ksRUFBRSxFQUFFO1lBQ2hCLE1BQU0sSUFBSWQsTUFBTTtRQUNsQjtJQUNGO0lBRUEsTUFBTThFLG9CQUFtQkMsWUFBb0I7UUFDM0MsaURBQWlEO1FBQ2pELE1BQU1yRSxXQUFXLE1BQU1DLE1BQU0sR0FBb0NvRSxPQUFqQ3BHLFNBQVEsMkJBQXNDLE9BQWJvRyxlQUFnQjtZQUMvRW5FLFFBQVE7UUFDVjtRQUVBLElBQUksQ0FBQ0YsU0FBU0ksRUFBRSxFQUFFO1lBQ2hCLE1BQU0sSUFBSWQsTUFBTTtRQUNsQjtRQUVBLE1BQU1lLE9BQU8sTUFBTUwsU0FBU00sSUFBSTtRQUNoQyxPQUFPRDtJQUNUO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9saWIvYXBpLnRzPzY4YTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZHVtbXlQcm9kdWN0cyB9IGZyb20gJy4vZHVtbXktZGF0YSc7XHJcbmltcG9ydCB7IGR1bW15U2VyaWFsTnVtYmVycywgZ2VuZXJhdGVEdW1teVNlcmlhbE51bWJlcnMgfSBmcm9tICcuL2R1bW15LXNlcmlhbC1udW1iZXJzJztcclxuXHJcbmNvbnN0IEFQSV9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwczovL2FwaS56c2luZGlhLmNvbS9hcGkvdjEnO1xyXG5cclxuY29uc3QgVVNFX0RVTU1ZX0RBVEEgPSBmYWxzZTtcclxuXHJcbi8vIFRlbXBvcmFyeTogVXNlIGR1bW15IGRhdGEgZm9yIHNlcmlhbCBudW1iZXJzIHVudGlsIGJhY2tlbmQgaXMgdXBkYXRlZFxyXG5jb25zdCBVU0VfRFVNTVlfU0VSSUFMX0RBVEEgPSBmYWxzZTtcclxuXHJcbi8vIEluLW1lbW9yeSBzdG9yYWdlIGZvciBkdW1teSBzZXJpYWwgbnVtYmVyc1xyXG5sZXQgbG9jYWxTZXJpYWxOdW1iZXJzID0gWy4uLmR1bW15U2VyaWFsTnVtYmVyc107XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNlcmlhbE51bWJlciB7XHJcbiAgX2lkOiBzdHJpbmc7XHJcbiAgc2VyaWFsTnVtYmVyOiBzdHJpbmc7XHJcbiAgcHJvZHVjdElkOiBzdHJpbmc7XHJcbiAgaXNWZXJpZmllZDogYm9vbGVhbjtcclxuICB2ZXJpZmllZEF0Pzogc3RyaW5nO1xyXG4gIHZlcmlmaWVkQ291bnQ6IG51bWJlcjtcclxuICBzdGF0dXM6ICdhY3RpdmUnIHwgJ2RlYWN0aXZhdGVkJztcclxuICBjcmVhdGVkQXQ6IHN0cmluZztcclxuICBiYXRjaE51bWJlcj86IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQcm9kdWN0IHtcclxuICBfaWQ6IHN0cmluZztcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgc2x1Zzogc3RyaW5nO1xyXG4gIGZhbWlseTogc3RyaW5nO1xyXG4gIGNhdGVnb3J5OiBzdHJpbmc7XHJcbiAgdGVjaG5vbG9neTogc3RyaW5nO1xyXG4gIHRodW1ibmFpbDogc3RyaW5nO1xyXG4gIGltYWdlczogc3RyaW5nW107XHJcbiAgb3ZlcnZpZXc6IHN0cmluZztcclxuICBrZXlIaWdobGlnaHRzOiBzdHJpbmdbXTtcclxuICBmZWF0dXJlczogc3RyaW5nW107XHJcbiAgYXBwbGljYXRpb25zOiBzdHJpbmdbXTtcclxuICBpZGVhbEZvcjogc3RyaW5nW107XHJcbiAgdGFnczogc3RyaW5nW107XHJcbiAgc3BlY2lmaWNhdGlvbnM6IHtcclxuICAgIHBvd2VyT3V0cHV0Pzogc3RyaW5nO1xyXG4gICAgY2hhbm5lbHM/OiBzdHJpbmc7XHJcbiAgICBpbnB1dENoYW5uZWxzPzogc3RyaW5nO1xyXG4gICAgZGlnaXRhbFBsYXllcj86IHN0cmluZztcclxuICAgIHRvbmVDb250cm9sPzoge1xyXG4gICAgICBiYXNzPzogc3RyaW5nO1xyXG4gICAgICBtaWQ/OiBzdHJpbmc7XHJcbiAgICAgIHRyZWJsZT86IHN0cmluZztcclxuICAgIH07XHJcbiAgICBzcGVha2VyT3V0cHV0Pzogc3RyaW5nO1xyXG4gICAgZnJlcXVlbmN5UmVzcG9uc2U/OiBzdHJpbmc7XHJcbiAgICBzblJhdGlvPzogc3RyaW5nO1xyXG4gICAgcG93ZXJTdXBwbHk/OiBzdHJpbmc7XHJcbiAgICBkaW1lbnNpb25zPzogc3RyaW5nO1xyXG4gICAgd2VpZ2h0Pzogc3RyaW5nO1xyXG4gIH07XHJcbiAgd2FycmFudHk/OiBzdHJpbmc7XHJcbiAgaXNUb3BTZWxsaW5nUHJvZHVjdD86IGJvb2xlYW47XHJcbiAgdG90YWxTZXJpYWxOdW1iZXJzPzogbnVtYmVyO1xyXG4gIGNyZWF0ZWRBdD86IHN0cmluZztcclxuICB1cGRhdGVkQXQ/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFByb2R1Y3RJbnB1dCA9IE9taXQ8UHJvZHVjdCwgJ19pZCcgfCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPjtcclxuXHJcbmxldCBsb2NhbFByb2R1Y3RzID0gWy4uLmR1bW15UHJvZHVjdHNdO1xyXG5sZXQgbmV4dElkID0gNztcclxuXHJcbmNvbnN0IGRlbGF5ID0gKG1zOiBudW1iZXIpID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGFwaSA9IHtcclxuICBhc3luYyBnZXRQcm9kdWN0cyhwYWdlOiBudW1iZXIgPSAxLCBsaW1pdDogbnVtYmVyID0gMTApOiBQcm9taXNlPHsgcHJvZHVjdHM6IFByb2R1Y3RbXTsgdG90YWxQYWdlczogbnVtYmVyOyB0b3RhbFByb2R1Y3RzOiBudW1iZXIgfT4ge1xyXG4gICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcclxuICAgIGlmICghdG9rZW4pIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb2tlbiB3YXMgbm90IHByb3ZpZGVkIScpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChVU0VfRFVNTVlfREFUQSkge1xyXG4gICAgICBhd2FpdCBkZWxheSgzMDApO1xyXG4gICAgICBjb25zdCBzdGFydEluZGV4ID0gKHBhZ2UgLSAxKSAqIGxpbWl0O1xyXG4gICAgICBjb25zdCBwYWdpbmF0ZWRQcm9kdWN0cyA9IGxvY2FsUHJvZHVjdHMuc2xpY2Uoc3RhcnRJbmRleCwgc3RhcnRJbmRleCArIGxpbWl0KTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBwcm9kdWN0czogcGFnaW5hdGVkUHJvZHVjdHMsXHJcbiAgICAgICAgdG90YWxQYWdlczogTWF0aC5jZWlsKGxvY2FsUHJvZHVjdHMubGVuZ3RoIC8gbGltaXQpLFxyXG4gICAgICAgIHRvdGFsUHJvZHVjdHM6IGxvY2FsUHJvZHVjdHMubGVuZ3RoLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX1VSTH0vcHJvZHVjdHM/cGFnZT0ke3BhZ2V9JmxpbWl0PSR7bGltaXR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgdG9rZW4sXHJcbiAgICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBwcm9kdWN0cycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwcm9kdWN0czogZGF0YS5wcm9kdWN0cyxcclxuICAgICAgdG90YWxQYWdlczogZGF0YS50b3RhbFBhZ2VzLFxyXG4gICAgICB0b3RhbFByb2R1Y3RzOiBkYXRhLnRvdGFsUHJvZHVjdHMsXHJcbiAgICB9O1xyXG4gIH0sXHJcblxyXG4gIGFzeW5jIGdldFByb2R1Y3QoaWQ6IHN0cmluZyk6IFByb21pc2U8UHJvZHVjdD4ge1xyXG4gICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcclxuICAgIGlmICghdG9rZW4pIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb2tlbiB3YXMgbm90IHByb3ZpZGVkIScpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChVU0VfRFVNTVlfREFUQSkge1xyXG4gICAgICBhd2FpdCBkZWxheSgyMDApO1xyXG4gICAgICBjb25zdCBwcm9kdWN0ID0gbG9jYWxQcm9kdWN0cy5maW5kKHAgPT4gcC5faWQgPT09IGlkKTtcclxuICAgICAgaWYgKCFwcm9kdWN0KSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9kdWN0IG5vdCBmb3VuZCcpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB7IC4uLnByb2R1Y3QgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9VUkx9L3Byb2R1Y3RzLyR7aWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgdG9rZW4sXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIHByb2R1Y3QnKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgcmV0dXJuIGRhdGEucHJvZHVjdCB8fCBkYXRhO1xyXG4gIH0sXHJcblxyXG4gIC8vIOKchSBDUkVBVEUgUFJPRFVDVCBXSVRIIEZJTEVTXHJcbiAgYXN5bmMgY3JlYXRlUHJvZHVjdChpbnB1dDogUHJvZHVjdElucHV0LCBmaWxlczogRmlsZVtdLCB0aHVtYm5haWxGaWxlPzogRmlsZSB8IG51bGwpIHtcclxuICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XHJcbiAgICBpZiAoIXRva2VuKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVG9rZW4gd2FzIG5vdCBwcm92aWRlZCEnKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XHJcblxyXG4gICAgLy8gLS0tIEJhc2ljIHRleHQgZmllbGRzIChjb2VyY2UgdW5kZWZpbmVkIC0+IFwiXCIpIC0tLVxyXG4gICAgZm9ybS5hcHBlbmQoJ25hbWUnLCBpbnB1dC5uYW1lKTtcclxuICAgIGZvcm0uYXBwZW5kKCdzbHVnJywgaW5wdXQuc2x1Zyk7XHJcbiAgICBmb3JtLmFwcGVuZCgnZmFtaWx5JywgaW5wdXQuZmFtaWx5ID8/ICcnKTtcclxuICAgIGZvcm0uYXBwZW5kKCdjYXRlZ29yeScsIGlucHV0LmNhdGVnb3J5ID8/ICcnKTtcclxuICAgIGZvcm0uYXBwZW5kKCd0ZWNobm9sb2d5JywgaW5wdXQudGVjaG5vbG9neSA/PyAnJyk7XHJcbiAgICBmb3JtLmFwcGVuZCgnb3ZlcnZpZXcnLCBpbnB1dC5vdmVydmlldyA/PyAnJyk7XHJcbiAgICBmb3JtLmFwcGVuZCgnd2FycmFudHknLCBpbnB1dC53YXJyYW50eSA/PyAnJyk7XHJcbiAgICBmb3JtLmFwcGVuZCgnaXNUb3BTZWxsaW5nUHJvZHVjdCcsIGlucHV0LmlzVG9wU2VsbGluZ1Byb2R1Y3QgPyAndHJ1ZScgOiAnZmFsc2UnKTtcclxuXHJcbiAgICAvLyAtLS0gQXJyYXkgZmllbGRzIChNdWx0ZXIvRXhwcmVzcyB3aWxsIHRyZWF0IG11bHRpcGxlIHNhbWUtbmFtZSBmaWVsZHMgYXMgYXJyYXkpIC0tLVxyXG4gICAgKGlucHV0LmtleUhpZ2hsaWdodHMgfHwgW10pLmZvckVhY2godiA9PiBmb3JtLmFwcGVuZCgna2V5SGlnaGxpZ2h0c1tdJywgdikpO1xyXG4gICAgKGlucHV0LmZlYXR1cmVzIHx8IFtdKS5mb3JFYWNoKHYgPT4gZm9ybS5hcHBlbmQoJ2ZlYXR1cmVzW10nLCB2KSk7XHJcbiAgICAoaW5wdXQuYXBwbGljYXRpb25zIHx8IFtdKS5mb3JFYWNoKHYgPT4gZm9ybS5hcHBlbmQoJ2FwcGxpY2F0aW9uc1tdJywgdikpO1xyXG4gICAgKGlucHV0LmlkZWFsRm9yIHx8IFtdKS5mb3JFYWNoKHYgPT4gZm9ybS5hcHBlbmQoJ2lkZWFsRm9yW10nLCB2KSk7XHJcbiAgICAoaW5wdXQudGFncyB8fCBbXSkuZm9yRWFjaCh2ID0+IGZvcm0uYXBwZW5kKCd0YWdzW10nLCB2KSk7XHJcblxyXG4gICAgLy8gLS0tIFNwZWNpZmljYXRpb25zIGFzIG5lc3RlZCBmaWVsZHMgKEV4cHJlc3Mgd2lsbCBwYXJzZSBhcyBvYmplY3QpIC0tLVxyXG4gICAgaWYgKGlucHV0LnNwZWNpZmljYXRpb25zPy5wb3dlck91dHB1dClcclxuICAgICAgZm9ybS5hcHBlbmQoJ3NwZWNpZmljYXRpb25zW3Bvd2VyT3V0cHV0XScsIGlucHV0LnNwZWNpZmljYXRpb25zLnBvd2VyT3V0cHV0KTtcclxuICAgIGlmIChpbnB1dC5zcGVjaWZpY2F0aW9ucz8uY2hhbm5lbHMpXHJcbiAgICAgIGZvcm0uYXBwZW5kKCdzcGVjaWZpY2F0aW9uc1tjaGFubmVsc10nLCBpbnB1dC5zcGVjaWZpY2F0aW9ucy5jaGFubmVscyk7XHJcbiAgICBpZiAoaW5wdXQuc3BlY2lmaWNhdGlvbnM/LmlucHV0Q2hhbm5lbHMpXHJcbiAgICAgIGZvcm0uYXBwZW5kKCdzcGVjaWZpY2F0aW9uc1tpbnB1dENoYW5uZWxzXScsIGlucHV0LnNwZWNpZmljYXRpb25zLmlucHV0Q2hhbm5lbHMpO1xyXG4gICAgaWYgKGlucHV0LnNwZWNpZmljYXRpb25zPy5kaWdpdGFsUGxheWVyKVxyXG4gICAgICBmb3JtLmFwcGVuZCgnc3BlY2lmaWNhdGlvbnNbZGlnaXRhbFBsYXllcl0nLCBpbnB1dC5zcGVjaWZpY2F0aW9ucy5kaWdpdGFsUGxheWVyKTtcclxuICAgIGlmIChpbnB1dC5zcGVjaWZpY2F0aW9ucz8udG9uZUNvbnRyb2w/LmJhc3MpXHJcbiAgICAgIGZvcm0uYXBwZW5kKCdzcGVjaWZpY2F0aW9uc1t0b25lQ29udHJvbF1bYmFzc10nLCBpbnB1dC5zcGVjaWZpY2F0aW9ucy50b25lQ29udHJvbC5iYXNzKTtcclxuICAgIGlmIChpbnB1dC5zcGVjaWZpY2F0aW9ucz8udG9uZUNvbnRyb2w/Lm1pZClcclxuICAgICAgZm9ybS5hcHBlbmQoJ3NwZWNpZmljYXRpb25zW3RvbmVDb250cm9sXVttaWRdJywgaW5wdXQuc3BlY2lmaWNhdGlvbnMudG9uZUNvbnRyb2wubWlkKTtcclxuICAgIGlmIChpbnB1dC5zcGVjaWZpY2F0aW9ucz8udG9uZUNvbnRyb2w/LnRyZWJsZSlcclxuICAgICAgZm9ybS5hcHBlbmQoJ3NwZWNpZmljYXRpb25zW3RvbmVDb250cm9sXVt0cmVibGVdJywgaW5wdXQuc3BlY2lmaWNhdGlvbnMudG9uZUNvbnRyb2wudHJlYmxlKTtcclxuICAgIGlmIChpbnB1dC5zcGVjaWZpY2F0aW9ucz8uc3BlYWtlck91dHB1dClcclxuICAgICAgZm9ybS5hcHBlbmQoJ3NwZWNpZmljYXRpb25zW3NwZWFrZXJPdXRwdXRdJywgaW5wdXQuc3BlY2lmaWNhdGlvbnMuc3BlYWtlck91dHB1dCk7XHJcbiAgICBpZiAoaW5wdXQuc3BlY2lmaWNhdGlvbnM/LmZyZXF1ZW5jeVJlc3BvbnNlKVxyXG4gICAgICBmb3JtLmFwcGVuZCgnc3BlY2lmaWNhdGlvbnNbZnJlcXVlbmN5UmVzcG9uc2VdJywgaW5wdXQuc3BlY2lmaWNhdGlvbnMuZnJlcXVlbmN5UmVzcG9uc2UpO1xyXG4gICAgaWYgKGlucHV0LnNwZWNpZmljYXRpb25zPy5zblJhdGlvKVxyXG4gICAgICBmb3JtLmFwcGVuZCgnc3BlY2lmaWNhdGlvbnNbc25SYXRpb10nLCBpbnB1dC5zcGVjaWZpY2F0aW9ucy5zblJhdGlvKTtcclxuICAgIGlmIChpbnB1dC5zcGVjaWZpY2F0aW9ucz8ucG93ZXJTdXBwbHkpXHJcbiAgICAgIGZvcm0uYXBwZW5kKCdzcGVjaWZpY2F0aW9uc1twb3dlclN1cHBseV0nLCBpbnB1dC5zcGVjaWZpY2F0aW9ucy5wb3dlclN1cHBseSk7XHJcbiAgICBpZiAoaW5wdXQuc3BlY2lmaWNhdGlvbnM/LmRpbWVuc2lvbnMpXHJcbiAgICAgIGZvcm0uYXBwZW5kKCdzcGVjaWZpY2F0aW9uc1tkaW1lbnNpb25zXScsIGlucHV0LnNwZWNpZmljYXRpb25zLmRpbWVuc2lvbnMpO1xyXG4gICAgaWYgKGlucHV0LnNwZWNpZmljYXRpb25zPy53ZWlnaHQpXHJcbiAgICAgIGZvcm0uYXBwZW5kKCdzcGVjaWZpY2F0aW9uc1t3ZWlnaHRdJywgaW5wdXQuc3BlY2lmaWNhdGlvbnMud2VpZ2h0KTtcclxuXHJcbiAgICAvLyAtLS0gVGh1bWJuYWlsIGZpbGUgLS0tXHJcbiAgICBpZiAodGh1bWJuYWlsRmlsZSkge1xyXG4gICAgICBmb3JtLmFwcGVuZCgndGh1bWJuYWlsJywgdGh1bWJuYWlsRmlsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZmlsZXMuZm9yRWFjaChmID0+IGZvcm0uYXBwZW5kKCdpbWFnZXMnLCBmKSk7XHJcblxyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJX1VSTH0vcHJvZHVjdHNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgdG9rZW4sXHJcbiAgICAgICAgLy8g4p2MIERPIE5PVCBzZXQgJ0NvbnRlbnQtVHlwZScgaGVyZSDigJQgYnJvd3NlciBzZXRzIG11bHRpcGFydCBib3VuZGFyeVxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBmb3JtLFxyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IGRhdGE6IGFueTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xyXG4gICAgfSBjYXRjaCB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHBhcnNlIHNlcnZlciByZXNwb25zZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghcmVzLm9rIHx8IGRhdGEuc3RhdHVzICE9PSAnc3VjY2VzcycpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEubWVzc2FnZSB8fCAnUHJvZHVjdCBjcmVhdGlvbiBmYWlsZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGF0YS5wcm9kdWN0IGFzIFByb2R1Y3Q7XHJcbiAgfSxcclxuXHJcbiAgLy8g4pyFIFVQREFURSBQUk9EVUNUIFdJVEggRklMRVNcclxuICBhc3luYyB1cGRhdGVQcm9kdWN0KGlkOiBzdHJpbmcsIGlucHV0OiBQcm9kdWN0SW5wdXQsIGZpbGVzOiBGaWxlW10sIHRodW1ibmFpbEZpbGU/OiBGaWxlIHwgbnVsbCkge1xyXG4gICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcclxuICAgIGlmICghdG9rZW4pIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb2tlbiB3YXMgbm90IHByb3ZpZGVkIScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcclxuXHJcbiAgICAvLyAtLS0gQmFzaWMgdGV4dCBmaWVsZHMgLS0tXHJcbiAgICBmb3JtLmFwcGVuZCgnbmFtZScsIGlucHV0Lm5hbWUpO1xyXG4gICAgZm9ybS5hcHBlbmQoJ3NsdWcnLCBpbnB1dC5zbHVnKTtcclxuICAgIGZvcm0uYXBwZW5kKCdmYW1pbHknLCBpbnB1dC5mYW1pbHkgPz8gJycpO1xyXG4gICAgZm9ybS5hcHBlbmQoJ2NhdGVnb3J5JywgaW5wdXQuY2F0ZWdvcnkgPz8gJycpO1xyXG4gICAgZm9ybS5hcHBlbmQoJ3RlY2hub2xvZ3knLCBpbnB1dC50ZWNobm9sb2d5ID8/ICcnKTtcclxuICAgIGZvcm0uYXBwZW5kKCdvdmVydmlldycsIGlucHV0Lm92ZXJ2aWV3ID8/ICcnKTtcclxuICAgIGZvcm0uYXBwZW5kKCd3YXJyYW50eScsIGlucHV0LndhcnJhbnR5ID8/ICcnKTtcclxuICAgIGZvcm0uYXBwZW5kKCdpc1RvcFNlbGxpbmdQcm9kdWN0JywgaW5wdXQuaXNUb3BTZWxsaW5nUHJvZHVjdCA/ICd0cnVlJyA6ICdmYWxzZScpO1xyXG5cclxuICAgIC8vIC0tLSBBcnJheSBmaWVsZHMgLS0tXHJcbiAgICAoaW5wdXQua2V5SGlnaGxpZ2h0cyB8fCBbXSkuZm9yRWFjaCh2ID0+IGZvcm0uYXBwZW5kKCdrZXlIaWdobGlnaHRzW10nLCB2KSk7XHJcbiAgICAoaW5wdXQuZmVhdHVyZXMgfHwgW10pLmZvckVhY2godiA9PiBmb3JtLmFwcGVuZCgnZmVhdHVyZXNbXScsIHYpKTtcclxuICAgIChpbnB1dC5hcHBsaWNhdGlvbnMgfHwgW10pLmZvckVhY2godiA9PiBmb3JtLmFwcGVuZCgnYXBwbGljYXRpb25zW10nLCB2KSk7XHJcbiAgICAoaW5wdXQuaWRlYWxGb3IgfHwgW10pLmZvckVhY2godiA9PiBmb3JtLmFwcGVuZCgnaWRlYWxGb3JbXScsIHYpKTtcclxuICAgIChpbnB1dC50YWdzIHx8IFtdKS5mb3JFYWNoKHYgPT4gZm9ybS5hcHBlbmQoJ3RhZ3NbXScsIHYpKTtcclxuXHJcbiAgICAvLyAtLS0gU3BlY2lmaWNhdGlvbnMgYXMgbmVzdGVkIGZpZWxkcyAoRXhwcmVzcyB3aWxsIHBhcnNlIGFzIG9iamVjdCkgLS0tXHJcbiAgICBpZiAoaW5wdXQuc3BlY2lmaWNhdGlvbnM/LnBvd2VyT3V0cHV0KVxyXG4gICAgICBmb3JtLmFwcGVuZCgnc3BlY2lmaWNhdGlvbnNbcG93ZXJPdXRwdXRdJywgaW5wdXQuc3BlY2lmaWNhdGlvbnMucG93ZXJPdXRwdXQpO1xyXG4gICAgaWYgKGlucHV0LnNwZWNpZmljYXRpb25zPy5jaGFubmVscylcclxuICAgICAgZm9ybS5hcHBlbmQoJ3NwZWNpZmljYXRpb25zW2NoYW5uZWxzXScsIGlucHV0LnNwZWNpZmljYXRpb25zLmNoYW5uZWxzKTtcclxuICAgIGlmIChpbnB1dC5zcGVjaWZpY2F0aW9ucz8uaW5wdXRDaGFubmVscylcclxuICAgICAgZm9ybS5hcHBlbmQoJ3NwZWNpZmljYXRpb25zW2lucHV0Q2hhbm5lbHNdJywgaW5wdXQuc3BlY2lmaWNhdGlvbnMuaW5wdXRDaGFubmVscyk7XHJcbiAgICBpZiAoaW5wdXQuc3BlY2lmaWNhdGlvbnM/LmRpZ2l0YWxQbGF5ZXIpXHJcbiAgICAgIGZvcm0uYXBwZW5kKCdzcGVjaWZpY2F0aW9uc1tkaWdpdGFsUGxheWVyXScsIGlucHV0LnNwZWNpZmljYXRpb25zLmRpZ2l0YWxQbGF5ZXIpO1xyXG4gICAgaWYgKGlucHV0LnNwZWNpZmljYXRpb25zPy50b25lQ29udHJvbD8uYmFzcylcclxuICAgICAgZm9ybS5hcHBlbmQoJ3NwZWNpZmljYXRpb25zW3RvbmVDb250cm9sXVtiYXNzXScsIGlucHV0LnNwZWNpZmljYXRpb25zLnRvbmVDb250cm9sLmJhc3MpO1xyXG4gICAgaWYgKGlucHV0LnNwZWNpZmljYXRpb25zPy50b25lQ29udHJvbD8ubWlkKVxyXG4gICAgICBmb3JtLmFwcGVuZCgnc3BlY2lmaWNhdGlvbnNbdG9uZUNvbnRyb2xdW21pZF0nLCBpbnB1dC5zcGVjaWZpY2F0aW9ucy50b25lQ29udHJvbC5taWQpO1xyXG4gICAgaWYgKGlucHV0LnNwZWNpZmljYXRpb25zPy50b25lQ29udHJvbD8udHJlYmxlKVxyXG4gICAgICBmb3JtLmFwcGVuZCgnc3BlY2lmaWNhdGlvbnNbdG9uZUNvbnRyb2xdW3RyZWJsZV0nLCBpbnB1dC5zcGVjaWZpY2F0aW9ucy50b25lQ29udHJvbC50cmVibGUpO1xyXG4gICAgaWYgKGlucHV0LnNwZWNpZmljYXRpb25zPy5zcGVha2VyT3V0cHV0KVxyXG4gICAgICBmb3JtLmFwcGVuZCgnc3BlY2lmaWNhdGlvbnNbc3BlYWtlck91dHB1dF0nLCBpbnB1dC5zcGVjaWZpY2F0aW9ucy5zcGVha2VyT3V0cHV0KTtcclxuICAgIGlmIChpbnB1dC5zcGVjaWZpY2F0aW9ucz8uZnJlcXVlbmN5UmVzcG9uc2UpXHJcbiAgICAgIGZvcm0uYXBwZW5kKCdzcGVjaWZpY2F0aW9uc1tmcmVxdWVuY3lSZXNwb25zZV0nLCBpbnB1dC5zcGVjaWZpY2F0aW9ucy5mcmVxdWVuY3lSZXNwb25zZSk7XHJcbiAgICBpZiAoaW5wdXQuc3BlY2lmaWNhdGlvbnM/LnNuUmF0aW8pXHJcbiAgICAgIGZvcm0uYXBwZW5kKCdzcGVjaWZpY2F0aW9uc1tzblJhdGlvXScsIGlucHV0LnNwZWNpZmljYXRpb25zLnNuUmF0aW8pO1xyXG4gICAgaWYgKGlucHV0LnNwZWNpZmljYXRpb25zPy5wb3dlclN1cHBseSlcclxuICAgICAgZm9ybS5hcHBlbmQoJ3NwZWNpZmljYXRpb25zW3Bvd2VyU3VwcGx5XScsIGlucHV0LnNwZWNpZmljYXRpb25zLnBvd2VyU3VwcGx5KTtcclxuICAgIGlmIChpbnB1dC5zcGVjaWZpY2F0aW9ucz8uZGltZW5zaW9ucylcclxuICAgICAgZm9ybS5hcHBlbmQoJ3NwZWNpZmljYXRpb25zW2RpbWVuc2lvbnNdJywgaW5wdXQuc3BlY2lmaWNhdGlvbnMuZGltZW5zaW9ucyk7XHJcbiAgICBpZiAoaW5wdXQuc3BlY2lmaWNhdGlvbnM/LndlaWdodClcclxuICAgICAgZm9ybS5hcHBlbmQoJ3NwZWNpZmljYXRpb25zW3dlaWdodF0nLCBpbnB1dC5zcGVjaWZpY2F0aW9ucy53ZWlnaHQpO1xyXG5cclxuICAgIC8vIC0tLSBUaHVtYm5haWwgZmlsZSAtLS1cclxuICAgIGlmICh0aHVtYm5haWxGaWxlKSB7XHJcbiAgICAgIGZvcm0uYXBwZW5kKCd0aHVtYm5haWwnLCB0aHVtYm5haWxGaWxlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS0gRmlsZXMgKG9ubHkgc2VuZCBpZiB1c2VyIHBpY2tlZCBuZXcgb25lcykgLS0tXHJcbiAgICBpZiAoZmlsZXNbMF0pIHtcclxuICAgICAgZm9ybS5hcHBlbmQoJ2ltZ0NvdmVyJywgZmlsZXNbMF0pO1xyXG4gICAgICBmaWxlcy5mb3JFYWNoKGYgPT4gZm9ybS5hcHBlbmQoJ2ltYWdlcycsIGYpKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtBUElfVVJMfS9wcm9kdWN0cy8ke2lkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJywgLy8gb3IgJ1BBVENIJyBkZXBlbmRpbmcgb24geW91ciBiYWNrZW5kXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICB0b2tlbixcclxuICAgICAgfSxcclxuICAgICAgYm9keTogZm9ybSxcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBkYXRhOiBhbnk7XHJcbiAgICB0cnkge1xyXG4gICAgICBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBzZXJ2ZXIgcmVzcG9uc2UnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXJlcy5vayB8fCBkYXRhLnN0YXR1cyAhPT0gJ3N1Y2Nlc3MnKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgJ1Byb2R1Y3QgdXBkYXRlIGZhaWxlZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkYXRhLnByb2R1Y3QgYXMgUHJvZHVjdDtcclxuICB9LFxyXG5cclxuICBhc3luYyBkZWxldGVQcm9kdWN0KGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XHJcbiAgICBpZiAoIXRva2VuKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVG9rZW4gd2FzIG5vdCBwcm92aWRlZCEnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoVVNFX0RVTU1ZX0RBVEEpIHtcclxuICAgICAgYXdhaXQgZGVsYXkoMzAwKTtcclxuICAgICAgbG9jYWxQcm9kdWN0cyA9IGxvY2FsUHJvZHVjdHMuZmlsdGVyKHAgPT4gcC5faWQgIT09IGlkKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX1VSTH0vcHJvZHVjdHMvJHtpZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICB0b2tlbixcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUgcHJvZHVjdCcpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGFzeW5jIGdlbmVyYXRlU2VyaWFsTnVtYmVycyhwcm9kdWN0SWQ6IHN0cmluZywgcXVhbnRpdHk6IG51bWJlciwgYmF0Y2hOdW1iZXI/OiBzdHJpbmcpOiBQcm9taXNlPFNlcmlhbE51bWJlcltdPiB7XHJcbiAgICAvLyBURU1QT1JBUlk6IFVzaW5nIGR1bW15IGRhdGEgdW50aWwgYmFja2VuZCBpcyB1cGRhdGVkXHJcbiAgICAvLyBpZiAoVVNFX0RVTU1ZX1NFUklBTF9EQVRBKSB7XHJcbiAgICAvLyAgIGF3YWl0IGRlbGF5KDUwMCk7XHJcbiAgICAvLyAgIGNvbnN0IG5ld1NlcmlhbHMgPSBnZW5lcmF0ZUR1bW15U2VyaWFsTnVtYmVycyhwcm9kdWN0SWQsIHF1YW50aXR5LCBiYXRjaE51bWJlcik7XHJcbiAgICAvLyAgIGxvY2FsU2VyaWFsTnVtYmVycyA9IFsuLi5uZXdTZXJpYWxzLCAuLi5sb2NhbFNlcmlhbE51bWJlcnNdO1xyXG4gICAgLy8gICByZXR1cm4gbmV3U2VyaWFscztcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBDT01NRU5URUQgT1VUOiBVbmNvbW1lbnQgd2hlbiBiYWNrZW5kIGlzIHJlYWR5XHJcbiAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpO1xyXG4gICAgaWYgKCF0b2tlbikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Rva2VuIHdhcyBub3QgcHJvdmlkZWQhJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfVVJMfS9zZXJpYWwtbnVtYmVycy9nZW5lcmF0ZWAsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICB0b2tlbixcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHByb2R1Y3RJZCwgcXVhbnRpdHksIGJhdGNoTnVtYmVyIH0pLFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBnZW5lcmF0ZSBzZXJpYWwgbnVtYmVycycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICByZXR1cm4gZGF0YS5zZXJpYWxOdW1iZXJzOyAgICBcclxuICB9LFxyXG5cclxuICBhc3luYyBnZXRQcm9kdWN0U2VyaWFsTnVtYmVycyhwcm9kdWN0SWQ6IHN0cmluZyk6IFByb21pc2U8U2VyaWFsTnVtYmVyW10+IHtcclxuICAgIC8vIFRFTVBPUkFSWTogVXNpbmcgZHVtbXkgZGF0YSB1bnRpbCBiYWNrZW5kIGlzIHVwZGF0ZWRcclxuICAgIC8vIGlmIChVU0VfRFVNTVlfU0VSSUFMX0RBVEEpIHtcclxuICAgIC8vICAgYXdhaXQgZGVsYXkoMzAwKTtcclxuICAgIC8vICAgcmV0dXJuIGxvY2FsU2VyaWFsTnVtYmVycy5maWx0ZXIocyA9PiBzLnByb2R1Y3RJZCA9PT0gcHJvZHVjdElkKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBDT01NRU5URUQgT1VUOiBVbmNvbW1lbnQgd2hlbiBiYWNrZW5kIGlzIHJlYWR5XHJcbiAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpO1xyXG4gICAgaWYgKCF0b2tlbikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Rva2VuIHdhcyBub3QgcHJvdmlkZWQhJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfVVJMfS9zZXJpYWwtbnVtYmVycy9wcm9kdWN0LyR7cHJvZHVjdElkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIHRva2VuLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBzZXJpYWwgbnVtYmVycycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICByZXR1cm4gZGF0YS5zZXJpYWxOdW1iZXJzIHx8IFtdO1xyXG4gIH0sXHJcblxyXG4gIGFzeW5jIGRlYWN0aXZhdGVTZXJpYWxOdW1iZXIoc2VyaWFsTnVtYmVySWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgLy8gVEVNUE9SQVJZOiBVc2luZyBkdW1teSBkYXRhIHVudGlsIGJhY2tlbmQgaXMgdXBkYXRlZFxyXG4gICAgLy8gaWYgKFVTRV9EVU1NWV9TRVJJQUxfREFUQSkge1xyXG4gICAgLy8gICBhd2FpdCBkZWxheSgzMDApO1xyXG4gICAgLy8gICBjb25zdCBpbmRleCA9IGxvY2FsU2VyaWFsTnVtYmVycy5maW5kSW5kZXgocyA9PiBzLl9pZCA9PT0gc2VyaWFsTnVtYmVySWQpO1xyXG4gICAgLy8gICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAvLyAgICAgbG9jYWxTZXJpYWxOdW1iZXJzW2luZGV4XS5zdGF0dXMgPSAnZGVhY3RpdmF0ZWQnO1xyXG4gICAgLy8gICB9XHJcbiAgICAvLyAgIHJldHVybjtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBDT01NRU5URUQgT1VUOiBVbmNvbW1lbnQgd2hlbiBiYWNrZW5kIGlzIHJlYWR5XHJcbiAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpO1xyXG4gICAgaWYgKCF0b2tlbikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Rva2VuIHdhcyBub3QgcHJvdmlkZWQhJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfVVJMfS9zZXJpYWwtbnVtYmVycy8ke3NlcmlhbE51bWJlcklkfS9kZWFjdGl2YXRlYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICB0b2tlbixcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBkZWFjdGl2YXRlIHNlcmlhbCBudW1iZXInKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBhc3luYyB2ZXJpZnlTZXJpYWxOdW1iZXIoc2VyaWFsTnVtYmVyOiBzdHJpbmcpOiBQcm9taXNlPHsgdmFsaWQ6IGJvb2xlYW47IHByb2R1Y3Q/OiBQcm9kdWN0OyBzZXJpYWxEYXRhPzogU2VyaWFsTnVtYmVyIH0+IHtcclxuICAgIC8vIENPTU1FTlRFRCBPVVQ6IFVuY29tbWVudCB3aGVuIGJhY2tlbmQgaXMgcmVhZHlcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX1VSTH0vc2VyaWFsLW51bWJlcnMvdmVyaWZ5LyR7c2VyaWFsTnVtYmVyfWAsIHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gdmVyaWZ5IHNlcmlhbCBudW1iZXInKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfSxcclxufTtcclxuIl0sIm5hbWVzIjpbImR1bW15UHJvZHVjdHMiLCJkdW1teVNlcmlhbE51bWJlcnMiLCJBUElfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJVU0VfRFVNTVlfREFUQSIsIlVTRV9EVU1NWV9TRVJJQUxfREFUQSIsImxvY2FsU2VyaWFsTnVtYmVycyIsImxvY2FsUHJvZHVjdHMiLCJuZXh0SWQiLCJkZWxheSIsIm1zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiYXBpIiwiZ2V0UHJvZHVjdHMiLCJwYWdlIiwibGltaXQiLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJFcnJvciIsInN0YXJ0SW5kZXgiLCJwYWdpbmF0ZWRQcm9kdWN0cyIsInNsaWNlIiwicHJvZHVjdHMiLCJ0b3RhbFBhZ2VzIiwiTWF0aCIsImNlaWwiLCJsZW5ndGgiLCJ0b3RhbFByb2R1Y3RzIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJvayIsImRhdGEiLCJqc29uIiwiZ2V0UHJvZHVjdCIsImlkIiwicHJvZHVjdCIsImZpbmQiLCJwIiwiX2lkIiwiY3JlYXRlUHJvZHVjdCIsImlucHV0IiwiZmlsZXMiLCJ0aHVtYm5haWxGaWxlIiwiZm9ybSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwibmFtZSIsInNsdWciLCJmYW1pbHkiLCJjYXRlZ29yeSIsInRlY2hub2xvZ3kiLCJvdmVydmlldyIsIndhcnJhbnR5IiwiaXNUb3BTZWxsaW5nUHJvZHVjdCIsImtleUhpZ2hsaWdodHMiLCJmb3JFYWNoIiwidiIsImZlYXR1cmVzIiwiYXBwbGljYXRpb25zIiwiaWRlYWxGb3IiLCJ0YWdzIiwic3BlY2lmaWNhdGlvbnMiLCJwb3dlck91dHB1dCIsImNoYW5uZWxzIiwiaW5wdXRDaGFubmVscyIsImRpZ2l0YWxQbGF5ZXIiLCJ0b25lQ29udHJvbCIsImJhc3MiLCJtaWQiLCJ0cmVibGUiLCJzcGVha2VyT3V0cHV0IiwiZnJlcXVlbmN5UmVzcG9uc2UiLCJzblJhdGlvIiwicG93ZXJTdXBwbHkiLCJkaW1lbnNpb25zIiwid2VpZ2h0IiwiZiIsInJlcyIsImJvZHkiLCJzdGF0dXMiLCJtZXNzYWdlIiwidXBkYXRlUHJvZHVjdCIsImRlbGV0ZVByb2R1Y3QiLCJmaWx0ZXIiLCJnZW5lcmF0ZVNlcmlhbE51bWJlcnMiLCJwcm9kdWN0SWQiLCJxdWFudGl0eSIsImJhdGNoTnVtYmVyIiwiSlNPTiIsInN0cmluZ2lmeSIsInNlcmlhbE51bWJlcnMiLCJnZXRQcm9kdWN0U2VyaWFsTnVtYmVycyIsImRlYWN0aXZhdGVTZXJpYWxOdW1iZXIiLCJzZXJpYWxOdW1iZXJJZCIsInZlcmlmeVNlcmlhbE51bWJlciIsInNlcmlhbE51bWJlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/api.ts\n"));

/***/ })

});